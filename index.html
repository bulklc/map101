<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/leaflet-search.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title></title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/proj4.js"></script>
        <script src="js/proj4leaflet.js"></script>
        <script src="js/leaflet-search.js"></script>
        <script src="data/StateAffordabilityUSD0.js"></script>
        <script src="data/AquiferDepletionCubicKilometersperYear1.js"></script>
        <script src="data/CityDensityCapitaPerSquareMile2.js"></script>
        <script>
        var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString') {
              highlightLayer.setStyle({
                color: '#ffff00',
              });
            } else {
              highlightLayer.setStyle({
                fillColor: '#ffff00',
                fillOpacity: 0.6
              });
            }
        }
        var crs = new L.Proj.CRS('EPSG:2163', '+proj=laea +lat_0=45 +lon_0=-100 +x_0=0 +y_0=0 +a=6370997 +b=6370997 +units=m +no_defs', {
            resolutions: [2800, 1400, 700, 350, 175, 84, 42, 21, 11.2, 5.6, 2.8, 1.4, 0.7, 0.35, 0.14, 0.07],
        });
        var map = L.map('map', {
            zoomControl:true, maxZoom:28, minZoom:4
        })
        var hash = new L.Hash(map);
        map.attributionControl.addAttribution('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a>');
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds());
            }
        }
        function pop_StateAffordabilityUSD0(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Name'] !== null ? Autolinker.link(String(feature.properties['Name'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                         <td colspan="2"><strong>Income Tax Estimate (2018)</strong><br />' + (feature.properties['INC TX D'] !== null ? Autolinker.link(String(feature.properties['INC TX D'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Sales Tax Estimate (2018)</strong><br />' + (feature.properties['SLS TX D'] !== null ? Autolinker.link(String(feature.properties['SLS TX D'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Property Tax Estimate (2018)</strong><br />' + (feature.properties['PRP TX D'] !== null ? Autolinker.link(String(feature.properties['PRP TX D'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>2016 Presidential Election Difference</strong><br />' + (feature.properties['2016 D P'] !== null ? Autolinker.link(String(feature.properties['2016 D P'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Overall Annual Cost</strong><br />' + (feature.properties['Cost D'] !== null ? Autolinker.link(String(feature.properties['Cost D'])) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent);
        }



        function style_StateAffordabilityUSD0_0(feature) {
            if (feature.properties['q2wHide_Cost'] >= 953.000000 && feature.properties['q2wHide_Cost'] <= 2057.200000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(8,48,107,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 2057.200000 && feature.properties['q2wHide_Cost'] <= 4216.200000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(10,83,158,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 4216.200000 && feature.properties['q2wHide_Cost'] <= 4873.800000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(33,113,181,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 4873.800000 && feature.properties['q2wHide_Cost'] <= 5283.600000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(61,141,195,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 5283.600000 && feature.properties['q2wHide_Cost'] <= 5838.000000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(95,166,209,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 5838.000000 && feature.properties['q2wHide_Cost'] <= 6132.200000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(136,190,220,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 6132.200000 && feature.properties['q2wHide_Cost'] <= 6553.000000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(175,209,231,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 6553.000000 && feature.properties['q2wHide_Cost'] <= 7177.400000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(204,223,241,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 7177.400000 && feature.properties['q2wHide_Cost'] <= 8112.400000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(225,237,248,0.6)',
            }
            }
            if (feature.properties['q2wHide_Cost'] >= 8112.400000 && feature.properties['q2wHide_Cost'] <= 13430.000000 ) {
                return {
                pane: 'pane_StateAffordabilityUSD0',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(247,251,255,0.6)',
            }
            }
        }
        map.createPane('pane_StateAffordabilityUSD0');
        map.getPane('pane_StateAffordabilityUSD0').style.zIndex = 400;
        map.getPane('pane_StateAffordabilityUSD0').style['mix-blend-mode'] = 'normal';
    var layer_StateAffordabilityUSD0 = new L.geoJson(json_StateAffordabilityUSD0, {
        attribution: '<a href=""></a>',
        pane: 'pane_StateAffordabilityUSD0',
        onEachFeature: pop_StateAffordabilityUSD0,
        style: style_StateAffordabilityUSD0_0,
    });
        bounds_group.addLayer(layer_StateAffordabilityUSD0);
        map.addLayer(layer_StateAffordabilityUSD0);
        function pop_AquiferDepletionCubicKilometersperYear1(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2"><strong>Aquifer Name</strong><br />' + (feature.properties['Area (or s'] !== null ? Autolinker.link(String(feature.properties['Area (or s'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Area (Square Kilometers, 2008)</strong><br />' + (feature.properties['Area'] !== null ? Autolinker.link(String(feature.properties['Area'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Depletion (Cubic Kilometers per Year, 2008)</strong><br />' + (feature.properties['Depletion'] !== null ? Autolinker.link(String(feature.properties['Depletion'])) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent);
        }

        function style_AquiferDepletionCubicKilometersperYear1_0(feature) {
            if (feature.properties['q2wHide_GW Depl av'] >= -0.410000 && feature.properties['q2wHide_GW Depl av'] <= 0.000000 ) {
                return {
                pane: 'pane_AquiferDepletionCubicKilometersperYear1',
                opacity: 1,
                color: 'rgba(0,0,0,0.5)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,0.5)',
            }
            }
            if (feature.properties['q2wHide_GW Depl av'] >= 0.000000 && feature.properties['q2wHide_GW Depl av'] <= 0.042000 ) {
                return {
                pane: 'pane_AquiferDepletionCubicKilometersperYear1',
                opacity: 1,
                color: 'rgba(0,0,0,0.5)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(230,195,193,0.5)',
            }
            }
            if (feature.properties['q2wHide_GW Depl av'] >= 0.042000 && feature.properties['q2wHide_GW Depl av'] <= 0.069200 ) {
                return {
                pane: 'pane_AquiferDepletionCubicKilometersperYear1',
                opacity: 1,
                color: 'rgba(0,0,0,0.5)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(205,135,132,0.5)',
            }
            }
            if (feature.properties['q2wHide_GW Depl av'] >= 0.069200 && feature.properties['q2wHide_GW Depl av'] <= 0.244000 ) {
                return {
                pane: 'pane_AquiferDepletionCubicKilometersperYear1',
                opacity: 1,
                color: 'rgba(0,0,0,0.5)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(180,75,70,0.5)',
            }
            }
            if (feature.properties['q2wHide_GW Depl av'] >= 0.244000 && feature.properties['q2wHide_GW Depl av'] <= 11.830000 ) {
                return {
                pane: 'pane_AquiferDepletionCubicKilometersperYear1',
                opacity: 1,
                color: 'rgba(0,0,0,0.5)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 1,
                fillColor: 'rgba(155,16,9,0.5)',
            }
            }
        }
        map.createPane('pane_AquiferDepletionCubicKilometersperYear1');
        map.getPane('pane_AquiferDepletionCubicKilometersperYear1').style.zIndex = 401;
        map.getPane('pane_AquiferDepletionCubicKilometersperYear1').style['mix-blend-mode'] = 'normal';
    var layer_AquiferDepletionCubicKilometersperYear1 = new L.geoJson(json_AquiferDepletionCubicKilometersperYear1, {
        attribution: '<a href=""></a>',
        pane: 'pane_AquiferDepletionCubicKilometersperYear1',
        onEachFeature: pop_AquiferDepletionCubicKilometersperYear1,
        style: style_AquiferDepletionCubicKilometersperYear1_0,
    });
        bounds_group.addLayer(layer_AquiferDepletionCubicKilometersperYear1);
        map.addLayer(layer_AquiferDepletionCubicKilometersperYear1);
        function pop_CityDensityCapitaPerSquareMile2(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Name'] !== null ? Autolinker.link(String(feature.properties['Name'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Population (2016)</strong><br />' + (feature.properties['2016 POP B'] !== null ? Autolinker.link(String(feature.properties['2016 POP B'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Density (Persons per Square Mile, 2016)</strong><br />' + (feature.properties['2016 DENS'] !== null ? Autolinker.link(String(feature.properties['2016 DENS'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Cost to SF Bay Area</strong><br />' + (feature.properties['TO SFO B'] !== null ? Autolinker.link(String(feature.properties['TO SFO B'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Cost to New York City</strong><br />' + (feature.properties['TO JFK B'] !== null ? Autolinker.link(String(feature.properties['TO JFK B'])) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>City, State Anagram</strong><br />' + (feature.properties['Anagram'] !== null ? Autolinker.link(String(feature.properties['Anagram'])) : '') + '</td>\
                    </tr>\
		    <tr>\
                        <td colspan="2"><strong>More Info</strong><br />' + (feature.properties['info'] !== null ? Autolinker.link(String(feature.properties['info'])) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent);
        }

        function style_CityDensityCapitaPerSquareMile2_0(feature) {
            if (feature.properties['q2wHide_D 2016 SM N'] >= 610.000000 && feature.properties['q2wHide_D 2016 SM N'] <= 1553.000000 ) {
                return {
                pane: 'pane_CityDensityCapitaPerSquareMile2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
            }
            }
            if (feature.properties['q2wHide_D 2016 SM N'] >= 1553.000000 && feature.properties['q2wHide_D 2016 SM N'] <= 2382.000000 ) {
                return {
                pane: 'pane_CityDensityCapitaPerSquareMile2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fillOpacity: 1,
                fillColor: 'rgba(214,193,230,1.0)',
            }
            }
            if (feature.properties['q2wHide_D 2016 SM N'] >= 2382.000000 && feature.properties['q2wHide_D 2016 SM N'] <= 3020.000000 ) {
                return {
                pane: 'pane_CityDensityCapitaPerSquareMile2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fillOpacity: 1,
                fillColor: 'rgba(174,132,205,1.0)',
            }
            }
            if (feature.properties['q2wHide_D 2016 SM N'] >= 3020.000000 && feature.properties['q2wHide_D 2016 SM N'] <= 5005.600000 ) {
                return {
                pane: 'pane_CityDensityCapitaPerSquareMile2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fillOpacity: 1,
                fillColor: 'rgba(134,70,180,1.0)',
            }
            }
            if (feature.properties['q2wHide_D 2016 SM N'] >= 5005.600000 && feature.properties['q2wHide_D 2016 SM N'] <= 28210.000000 ) {
                return {
                pane: 'pane_CityDensityCapitaPerSquareMile2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fillOpacity: 1,
                fillColor: 'rgba(94,9,155,1.0)',
            }
            }
        }
        map.createPane('pane_CityDensityCapitaPerSquareMile2');
        map.getPane('pane_CityDensityCapitaPerSquareMile2').style.zIndex = 402;
        map.getPane('pane_CityDensityCapitaPerSquareMile2').style['mix-blend-mode'] = 'normal';
        var layer_CityDensityCapitaPerSquareMile2 = new L.geoJson(json_CityDensityCapitaPerSquareMile2, {
            attribution: '<a href=""></a>',
            pane: 'pane_CityDensityCapitaPerSquareMile2',
            onEachFeature: pop_CityDensityCapitaPerSquareMile2,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_CityDensityCapitaPerSquareMile2_0(feature));
            },
        });
        bounds_group.addLayer(layer_CityDensityCapitaPerSquareMile2);
        map.addLayer(layer_CityDensityCapitaPerSquareMile2);
        var baseMaps = {};
        L.control.layers(baseMaps,{'City Density (Capita Per Square Mile)<br /><table><tr><td style="text-align: center;"><img src="legend/CityDensityCapitaPerSquareMile2_61015530.png" /></td><td> 610 - 1553 </td></tr><tr><td style="text-align: center;"><img src="legend/CityDensityCapitaPerSquareMile2_155323821.png" /></td><td> 1553 - 2382 </td></tr><tr><td style="text-align: center;"><img src="legend/CityDensityCapitaPerSquareMile2_238230202.png" /></td><td> 2382 - 3020 </td></tr><tr><td style="text-align: center;"><img src="legend/CityDensityCapitaPerSquareMile2_302050063.png" /></td><td> 3020 - 5006 </td></tr><tr><td style="text-align: center;"><img src="legend/CityDensityCapitaPerSquareMile2_5006282104.png" /></td><td> 5006 - 28210 </td></tr></table>': layer_CityDensityCapitaPerSquareMile2,'Aquifer Depletion (Cubic Kilometers per Year)<br /><table><tr><td style="text-align: center;"><img src="legend/AquiferDepletionCubicKilometersperYear1_041000000.png" /></td><td> -0.410 - 0.000 </td></tr><tr><td style="text-align: center;"><img src="legend/AquiferDepletionCubicKilometersperYear1_000000421.png" /></td><td> 0.000 - 0.042 </td></tr><tr><td style="text-align: center;"><img src="legend/AquiferDepletionCubicKilometersperYear1_004200692.png" /></td><td> 0.042 - 0.069 </td></tr><tr><td style="text-align: center;"><img src="legend/AquiferDepletionCubicKilometersperYear1_006902443.png" /></td><td> 0.069 - 0.244 </td></tr><tr><td style="text-align: center;"><img src="legend/AquiferDepletionCubicKilometersperYear1_0244118304.png" /></td><td> 0.244 - 11.830 </td></tr></table>': layer_AquiferDepletionCubicKilometersperYear1,'State Affordability (USD)<br /><table><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_95320570.png" /></td><td> 953 - 2057 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_205742161.png" /></td><td> 2057 - 4216 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_421648742.png" /></td><td> 4216 - 4874 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_487452843.png" /></td><td> 4874 - 5284 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_528458384.png" /></td><td> 5284 - 5838 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_583861325.png" /></td><td> 5838 - 6132 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_613265536.png" /></td><td> 6132 - 6553 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_655371777.png" /></td><td> 6553 - 7177 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_717781128.png" /></td><td> 7177 - 8112 </td></tr><tr><td style="text-align: center;"><img src="legend/StateAffordabilityUSD0_8112134309.png" /></td><td> 8112 - 13430 </td></tr></table>': layer_StateAffordabilityUSD0,}).addTo(map);
        setBounds();
        map.addControl(new L.Control.Search({
            layer: layer_CityDensityCapitaPerSquareMile2,
            initial: false,
            hideMarkerOnCollapse: true,
            propertyName: 'Name'}));
        </script>
    </body>
</html>
